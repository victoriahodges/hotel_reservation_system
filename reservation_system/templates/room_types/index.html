{% extends 'admin_base.html' %}

{% block header %}
  <h1 class="m-0">{% block page_title %}Room Types{% endblock %}</h1>
{% endblock %}

{% block content %}
<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Room Type Details</h3>
      </div>
      <!-- /.card-header -->      
      <div class="card-body">
        <div class="row">
          <div class="col-12">
            <a class="btn bg-navy mb-4" href="{{ url_for('room_types.create') }}"><i class="fas fa-cog mr-2"></i>Add New Room Type</a>
          </div>
        </div>
      
        <table class="table table-sm table-bordered table-hover">
          <thead>
            <tr>
              <th>Photo</th>
              <th>Room Type</th>
              <th>Base Price</th>
              <th>Amenities</th>
              <th>Max. Occ.</th>
              <th>Last modified</th>
              <th>Action</th>
            </tr>
          </thead>  
          <tbody>
          {% for room_type in room_types %}
            <tr>
              <th>
                <img class="img-bordered-sm elevation-1" src="{{ url_for('static', filename=image_location+room_type['photo']) }}"
                style="width: 125px;">
              </th>
              <th>
                {{ room_type['type_name'] }}
              </th>
              <td>{{ room_type['base_price_per_night'] }}</td>
              <td>{{ room_type['amenities'] }}</td>
              <td>{{ room_type['max_occupants'] }}</td>
              <td>{{ room_type['modified'].strftime('%Y-%m-%d %H:%M') }} by {{ room_type['username'] }}</td>
              <td>
                <a class="btn btn-sm btn-primary" href="{{ url_for('room_types.update', id=room_type['id']) }}">
                <i class="fas fa-sm fa-edit mr-1"></i> Edit</a>
              </td>
            </tr>
          {% endfor %}
          </tbody>
        </table>

      </div>
    </div>
    <!-- /.card -->
  </div>
</div>
{% endblock %}
